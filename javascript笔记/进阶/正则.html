<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
<script>
    function getSearch (url) {
        var reg_url = /^[^\?]+\?([\w\W]+)$/,
        reg_params = /([^&=]+)=([\w\W]*?)(&|$|#)/g,
        arr_url = reg_url.exec(url),
        ret = {};
        if (arr_url && arr_url[1]) {
            var str_params = arr_url[1], result;
            while ((result = reg_params.exec(str_params)) != null) {
                ret[result[1]] = result[2];
            }
        }
        return ret;
    }

    var str = 'http://www.baidu.com?name=传奇&age=18';
    console.log(getSearch(str));


</script>
</body>
</html>