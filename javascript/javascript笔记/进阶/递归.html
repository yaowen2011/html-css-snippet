<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
<script>
    //计算n的阶乘
    function calcFactorial(n) {
        if (n === 1) return 1;
        return n * calcFactorial(n - 1);
    }

    console.log('计算阶乘', calcFactorial(4));

    //计算第n位斐波那契
    function fibo(n) {
        if (n <= 2) {
            return 1;
        }
        return fibo(n - 1) + fibo(n - 2);
    }
    // 1 1 2 3 5
    console.log(fibo(4));

    //缓存版 fibo2
    var cache = [];
    function fibo2(n) {
        if (n <= 2) {
            return 1;
        }
        if (!cache[n]) {
            cache[n] = fibo2(n - 1) + fibo2(n - 2);
        }
        return cache[n];
    }
    console.log(fibo2(60));

    //深拷贝对象
    var o = {
        name: 'jake',
        age: 12,
        car: {
            brand: '大众',
            model: '4门'
        }
    }

    //浅拷贝
    function copyObj(o) {
        var tmp = {};
        for (var k in o) {
            if (typeof o[k] === 'object') {
                tmp[k] = copyObj(o[k]);
            } else {
                tmp[k] = o[k];
            }
        }

        return tmp;
    }
    var copyO = copyObj(o);
    copyO.name = 'Jerry';
    copyO.car.model = '双门';
    console.log(copyO);
    console.log(o);//全部变成双门

    //快速排序
    //最差情况时间复杂度和冒泡排序一样
    function quickSort(arr) {
        if (arr.length <= 1) return arr;
        var pivot = Math.floor(arr.length / 2);
        var left = [];
        var right = [];
        for (var i = 0; i < arr.length; ++i) {
            if (arr[i] < arr[pivot]) {
                left.push(arr[i]);
            } else if (arr[i] > arr[pivot]) {
                right.push(arr[i]);
            }
        }

        return quickSort(left).concat([arr[pivot]], quickSort(right)); //3部分
    }

    console.log(quickSort([12, 10, 23, , 4, 5, 1, 3, 319]));

    //适用于已经排好序的数组中查找
    //二元查找
    function binarySearch(arr, target) {
        var start = 0;
        var end = arr.length - 1;
        while (start <= end) {
            //中间点每次在循环内设置
            var pivot = Math.floor((start + end) / 2);
            if (arr[pivot] === target) {
                return pivot;
            } else if (target > arr[pivot]) {
                start = pivot + 1;
            } else if (target < arr[pivot]) {
                end = pivot - 1;
            } else {
                return -1;
            }
        }
    }
    console.log(binarySearch([1, 2, 3, 4, 5, 6, 7], 5));

    //前提适拥有已经排好序的数组中查找
    //递归的形式实现 二分查找
    function binSearch(arr, low, high, target) {
        if (low > high) return -1;

        //关键点 重置low 和 high
        var pivot = Math.floor((low + high) / 2);
        if (arr[pivot] === target) {
            return pivot;
        } else if (target < arr[pivot]) {
            high = pivot - 1; //去左半区找
        } else if (target > arr[pivot]) {
            low = pivot + 1;
        } else {
            return -1;
        }

        return binSearch(arr, low, high, target);
    }
    var arr = [1, 2, 3, 4, 5, 6, 7];
    console.log(binSearch(arr, 0, arr.length - 1, 7));


</script>
</body>
</html>